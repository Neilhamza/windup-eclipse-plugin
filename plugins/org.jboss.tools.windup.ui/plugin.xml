<?xml version="1.0" encoding="UTF-8"?>
<plugin>

   <extension
         point="org.eclipse.ui.views">
      <category
            name="%category.windup.name"
            id="org.jboss.tools.windup.ui.view.category.windup">
      </category>
   </extension>
   <extension
         point="org.eclipse.ui.exportWizards">
      <category
            name="%category.windup.name"
            id="org.jboss.tools.windup.ui.export.category.windup">
      </category>
      <wizard
            name="%export.windup_reports.name"
            icon="icons/export_windup_report.png"
            category="org.jboss.tools.windup.ui.export.category.windup"
            class="org.jboss.tools.windup.ui.internal.wizards.WindupReportExportWizard"
            id="org.jboss.tools.windup.ui.exportWizard.WindupReport">
         <description>
         </description>
         <keywordReference
               id="org.jboss.tools.windup.ui.keywords.WindupReport">
         </keywordReference>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.keywords">
      <keyword
            label="%keywords.windup_report.labels"
            id="org.jboss.tools.windup.ui.keywords.WindupReport">
      </keyword>
   </extension>
   <extension
         id="org.jboss.tools.windup.ui.fragment"
         point="org.eclipse.e4.workbench.model">
      <fragment
            uri="windup-ui.e4xmi">
      </fragment>
      <processor
            apply="initial"
            beforefragment="false"
            class="org.jboss.tools.windup.ui.WindupPerspective">
      </processor>
   </extension>
   <extension
         id="windup.expressions"
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="org.jboss.tools.windup.ui.expression.generateReport">
         <and>
            <iterate
                  ifEmpty="false"
                  operator="and">
               <or>
                  <instanceof
                        value="org.eclipse.core.resources.IResource">
                  </instanceof>
                  <adapt
                        type="org.eclipse.core.resources.IResource">
                  </adapt>
               </or>
            </iterate>
         </and>
      </definition>
      <definition
            id="org.jboss.tools.windup.ui.expression.showReport">
              <and>
                 <count
                       value="1">
                 </count>
                 <iterate
                       ifEmpty="false"
                       operator="or">
                    <or>
                       <instanceof
                             value="org.eclipse.core.resources.IFile">
                       </instanceof>
                       <instanceof
                             value="org.eclipse.jdt.core.ICompilationUnit">
                       </instanceof>
                       <adapt
                             type="org.eclipse.core.resources.IFile">
                       </adapt>
                       <adapt
                             type="org.eclipse.jdt.core.ICompilationUnit">
                       </adapt>
                    </or>
                 </iterate>
              </and> 
      </definition>
      <definition
            id="org.jboss.tools.windup.ui.expression.exportReport">
              <and>
                 <iterate
                       ifEmpty="false"
                       operator="and">
                    <or>
                       <instanceof
                             value="org.eclipse.core.resources.IResource">
                       </instanceof>
                       <adapt
                             type="org.eclipse.core.resources.IResource">
                       </adapt>
                    </or>
                 </iterate>
              </and>
      </definition>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTabGroups">
      <launchConfigurationTabGroup
            class="org.jboss.tools.windup.ui.internal.launch.WindupLaunchGroup"
            id="org.jboss.tools.windup.ui.WindupLaunchConfigurationTabGroup"
            type="org.jboss.tools.windup.core.WindupLaunchConfigurationType">
         <launchMode
               description="%windupLaunch.run"
               mode="run"
               perspective="org.jboss.tools.windup.ui.perspective">
         </launchMode>
      </launchConfigurationTabGroup>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTypeImages">
      <launchConfigurationTypeImage
            configTypeID="org.jboss.tools.windup.core.WindupLaunchConfigurationType"
            icon="icons/windup.png"
            id="org.jboss.tools.windup.ui.WindupLaunchConfigurationTypeImage">
      </launchConfigurationTypeImage>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
         <toolbar
               id="org.jboss.tools.windup.ui.toolbar1">
            <command
                  commandId="org.jboss.tools.windup.ui.command.showWindup"
                  icon="icons/windup.png"
                  style="push"
                  tooltip="Open Windup">
            </command>
         </toolbar>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="org.jboss.tools.windup.ui.internal.editor.OpenWindupEditorHandler"
            id="org.jboss.tools.windup.ui.command.showWindup"
            name="Open Windup">
      </command>
   </extension>
    <extension
             point="org.eclipse.debug.core.launchConfigurationTypes">
          <launchConfigurationType
                sourceLocatorId="org.eclipse.jdt.launching.sourceLocator.JavaSourceLookupDirector"
                name="%windupLaunch.configType.name"
                sourcePathComputerId="org.eclipse.jdt.launching.sourceLookup.javaSourcePathComputer"
                delegate="org.jboss.tools.windup.ui.WindupExtensionFactory:org.jboss.tools.windup.ui.internal.launch.WindupLaunchDelegate"
                modes="run"
                id="org.jboss.tools.windup.ui.WindupLaunchConfigurationType">
          </launchConfigurationType>
     </extension>
</plugin>
